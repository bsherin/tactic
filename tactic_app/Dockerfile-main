FROM tactic_base_image
WORKDIR /code
ADD ./main_container_env /code
RUN pip install -r requirements.txt
MAINTAINER "Bruce L Sherin"
ADD   ./volume_manager.py ./exception_mixin.py ./qworker.py ./communication_utils.py \
       ./megaplex_container_env/megaplex_main.py ./megaplex_container_env/megaplex_task_manager.py \
       ./docker_functions.py ./mongo_accesser.py /code/
EXPOSE 5000
ENTRYPOINT ["/usr/local/bin/gunicorn", "-b", "0.0.0.0:5000", "main_main:app"]