!function(e){var t={};function s(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=29)}({0:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return r})),s.d(t,"f",(function(){return l})),s.d(t,"g",(function(){return p})),s.d(t,"e",(function(){return c}));let n={};function o(e){let t=e.callback_id,s=n[t];delete n[t],s(e.response_data)}function i(e,t,s){"/"==e[0]&&(e=e.slice(1)),$.ajax({url:$SCRIPT_ROOT+"/"+e,contentType:"application/json",type:"POST",async:!0,data:JSON.stringify(t),dataType:"json",success:s})}function a(e,t){return new Promise((function(s,n){"/"==e[0]&&(e=e.slice(1)),$.ajax({url:$SCRIPT_ROOT+"/"+e,contentType:"application/json",type:"POST",async:!0,data:JSON.stringify(t),dataType:"json",success:e=>{e.success&&s(e),n(e)}})}))}function r(e,t){return new Promise((function(s,n){"/"==e[0]&&(e=e.slice(1)),$.ajax({url:$SCRIPT_ROOT+"/"+e,type:"POST",data:t,contentType:!1,processData:!1,success:e=>{e.success&&s(e),n(e)}})}))}function l(e,t,s,o){const i={source:"client",dest:e,task_type:t,task_data:s,response_data:null,main_id:main_id,expiration:null};if(void 0!==o&&null!=o){const e=guid();n[e]=o,i.callback_id=e,i.callback_type="callback_no_context"}else i.callback_id=null,i.callback_type="no_callback";$.ajax({url:$SCRIPT_ROOT+"/post_from_client",contentType:"application/json",type:"POST",async:!0,data:JSON.stringify(i),dataType:"json"})}function c(e,t,s){const n={source:"client",dest:e,task_type:t,task_data:s,response_data:null,main_id:main_id,callback_id:null,callback_type:"no_callback",expiration:null};$.ajax({url:$SCRIPT_ROOT+"/post_from_client",contentType:"application/json",type:"POST",async:!1,data:JSON.stringify(n),dataType:"json"})}function p(e,t,s,o){const i={source:"client",dest:e,task_type:t,task_data:s,response_data:null,expiration:null};if(void 0!==o){const e=guid();n[e]=o,i.callback_id=e,i.callback_type="callback_no_context"}else i.callback_id=null,i.callback_type="no_callback";$.ajax({url:$SCRIPT_ROOT+"/post_from_client",contentType:"application/json",type:"POST",async:!0,data:JSON.stringify(i),dataType:"json"})}},1:function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return l})),s.d(t,"d",(function(){return c})),s.d(t,"a",(function(){return p}));var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o=blueprint;const i=o.Toaster.create({className:"recipe-toaster",position:o.Position.TOP,autoFocus:!0}),a={"alert-success":"Success","alert-warning":"Warning","alert-info":null};function r(e){let t;t=e.hasOwnProperty("alert_type")?a[e.alert_type]:null,i.show({message:e.message,intent:t})}function l(e){r(e)}function c(e,t=null){return class extends React.Component{constructor(e){super(e),doBinding(this),this.tsocket=t,this.state={show_spinner:!1,status_message:null,dark_spinner:!1,spinner_size:this.props.spinner_size?this.props.spinner_size:25}}componentDidMount(){this.tsocket&&(this.tsocket.socket.on("stop-spinner",this._stopSpinner),this.tsocket.socket.on("start-spinner",this._startSpinner),this.tsocket.socket.on("show-status-msg",this._statusMessageFromData),this.tsocket.socket.on("clear-status-msg",this._clearStatusMessage))}_stopSpinner(){this.setState({show_spinner:!1})}_startSpinner(e=!1){this.setState({show_spinner:!0,dark_spinner:e})}_clearStatusMessage(){this.setState({status_message:null})}_clearStatus(){this.setState({show_spinner:!1,status_message:null})}_statusMessage(e,t=null){this.setState({status_message:e},()=>{t&&setTimeout(self._clearStatusMessage,1e3*data.timeout)})}_statusMessageFromData(e){let t=this;this.setState({status_message:e.message},()=>{e.hasOwnProperty("timeout")&&null!=e.timeout&&setTimeout(t._clearStatusMessage,1e3*e.timeout)})}_setStatus(e){this.setState(e)}_statusFuncs(){return{startSpinner:this._startSpinner,stopSpinner:this._stopSpinner,clearStatus:this._clearStatus,clearStatusMessage:this._clearStatusMessage,statusMessage:this._statusMessage,setStatus:this._setStatus}}render(){return React.createElement(React.Fragment,null,React.createElement(e,n({},this.props,{statusFuncs:this._statusFuncs(),startSpinner:this._startSpinner,stopSpinner:this._stopSpinner,clearStatus:this._clearStatus,clearStatusMessage:this._clearStatus,statusMessage:this._statusMessage,setStatus:this._setStatus})),React.createElement(p,this.state))}}}class p extends React.Component{render(){this.props.dark_spinner;return React.createElement("div",{className:"d-flex flex-row",style:{position:"absolute",bottom:10,marginLeft:15}},this.props.show_spinner&&React.createElement(o.Spinner,{className:"bp3-dark",size:20}),this.props.status_message&&React.createElement("div",{className:"d-flex flex-column justify-content-around",style:{positoin:"absolute",marginLeft:50}},React.createElement("div",{id:"status-msg-area",className:"bp3-ui-text"},this.props.status_message)))}}p.propTypes={show_spinner:PropTypes.bool,status_message:PropTypes.string,spinner_size:PropTypes.number},p.defaultProps={show_spinner:!1,status_message:null,spinner_size:25}},2:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return p})),s.d(t,"c",(function(){return l}));var n=s(6),o=blueprint;bpselect;class i extends React.Component{constructor(e){super(e),doBinding(this);let t=this.props.default_value;for(var s=1;this.name_exists(t);)s+=1,t=this.props.default_value+String(s);this.state={show:!1,current_value:t,checkbox_states:{},warning_text:""}}_changeHandler(e){this.setState({current_value:e.target.value})}_checkbox_change_handler(e){e.target.checked;let t=Object.assign({},this.state.checkbox_states);t[e.target.id]=e.target.checked,this.setState({checkbox_states:t})}componentDidMount(){if(this.setState({show:!0}),null!=this.props.checkboxes&&0!=this.props.checkboxes.length){let e={};for(let t of this.props.checkboxes)e[t.id]=!1;this.setState({checkbox_states:e})}}name_exists(e){return this.props.existing_names.indexOf(e)>-1}_submitHandler(e){let t;""==this.state.current_value?(t="An empty name is not allowed here.",this.setState({warning_text:t})):this.name_exists(this.state.current_value)?(t="That name already exists",this.setState({warning_text:t})):(this.setState({show:!1}),this.props.handleSubmit(this.state.current_value,this.state.checkbox_states),this.props.handleClose())}_cancelHandler(){this.setState({show:!1}),this.props.handleCancel&&this.props.handleCancel(),this.props.handleClose()}_refHandler(e){this.input_ref=e}render(){let e=[];if(null!=this.props.checkboxes&&0!=this.props.checkboxes.length)for(let t of this.props.checkboxes){let s=React.createElement(o.Checkbox,{checked:this.state.checkbox_states[t.checkname],label:t.checktext,id:t.checkname,key:t.checkname,onChange:this._checkbox_change_handler});e.push(s)}return React.createElement(o.Dialog,{isOpen:this.state.show,title:this.props.title,onClose:this._cancelHandler,onOpened:()=>{$(this.input_ref).focus()},canEscapeKeyClose:!0},React.createElement("form",{onSubmit:this._submitHandler},React.createElement("div",{className:o.Classes.DIALOG_BODY},React.createElement(o.FormGroup,{label:this.props.field_title,helperText:this.state.warning_text},React.createElement(o.InputGroup,{inputRef:this._refHandler,onChange:this._changeHandler,value:this.state.current_value})),0!=e.length&&e),React.createElement("div",{className:o.Classes.DIALOG_FOOTER},React.createElement("div",{className:o.Classes.DIALOG_FOOTER_ACTIONS},React.createElement(o.Button,{onClick:this._cancelHandler},"Cancel"),React.createElement(o.Button,{intent:o.Intent.PRIMARY,onClick:this._submitHandler},"Submit")))))}}function a(e,t,s,n,o,a=null,r=null){void 0===o&&(o=[]);let l=document.querySelector("#modal-area");ReactDOM.render(React.createElement(i,{handleSubmit:s,handleCancel:r,handleClose:function(){ReactDOM.unmountComponentAtNode(l)},title:e,field_title:t,default_value:n,checkboxes:a,existing_names:o}),l)}i.propTypes={handleSubmit:PropTypes.func,handleClose:PropTypes.func,title:PropTypes.string,field_title:PropTypes.string,default_value:PropTypes.string,existing_names:PropTypes.array,checkboxes:PropTypes.array},i.defaultProps={existing_names:[],default_value:"",checkboxes:null};class r extends React.Component{constructor(e){super(e),doBinding(this),this.state={show:!1,value:null}}componentDidMount(){this.setState({show:!0,value:this.props.option_list[0]})}_handleChange(e){this.setState({value:e})}_submitHandler(e){this.setState({show:!1}),this.props.handleSubmit(this.state.value),this.props.handleClose()}_cancelHandler(){this.setState({show:!1}),this.props.handleClose()}render(){return React.createElement(o.Dialog,{isOpen:this.state.show,title:this.props.title,onClose:this._cancelHandler,canEscapeKeyClose:!0},React.createElement("div",{className:o.Classes.DIALOG_BODY},React.createElement(o.FormGroup,{title:this.props.select_label},React.createElement(n.a,{options:this.props.option_list,onChange:this._handleChange,value:this.state.value}))),React.createElement("div",{className:o.Classes.DIALOG_FOOTER},React.createElement("div",{className:o.Classes.DIALOG_FOOTER_ACTIONS},React.createElement(o.Button,{onClick:this._cancelHandler},"Cancel"),React.createElement(o.Button,{intent:o.Intent.PRIMARY,onClick:this._submitHandler},"Submit"))))}}function l(e,t,s,n,o,i){let a=document.querySelector("#modal-area");ReactDOM.render(React.createElement(r,{handleSubmit:o,handleClose:function(){ReactDOM.unmountComponentAtNode(a)},title:e,select_label:t,submit_text:n,option_list:i,cancel_text:s}),a)}r.propTypes={handleSubmit:PropTypes.func,handleClose:PropTypes.func,handleCancel:PropTypes.func,title:PropTypes.string,select_label:PropTypes.string,option_list:PropTypes.array,submit_text:PropTypes.string,cancel_text:PropTypes.string};class c extends React.Component{constructor(e){super(e),doBinding(this),this.state={show:!1}}componentDidMount(){this.setState({show:!0})}_submitHandler(e){this.setState({show:!1}),this.props.handleSubmit(),this.props.handleClose()}_cancelHandler(){this.setState({show:!1}),this.props.handleClose()}render(){return React.createElement(o.Dialog,{isOpen:this.state.show,title:this.props.title,onClose:this._cancelHandler,canEscapeKeyClose:!0},React.createElement("div",{className:o.Classes.DIALOG_BODY},React.createElement("p",null,this.props.text_body)),React.createElement("div",{className:o.Classes.DIALOG_FOOTER},React.createElement("div",{className:o.Classes.DIALOG_FOOTER_ACTIONS},React.createElement(o.Button,{onClick:this._cancelHandler},"Cancel"),React.createElement(o.Button,{intent:o.Intent.PRIMARY,onClick:this._submitHandler},"Submit"))))}}function p(e,t,s,n,o){let i=document.querySelector("#modal-area");ReactDOM.render(React.createElement(c,{handleSubmit:o,handleClose:function(){ReactDOM.unmountComponentAtNode(i)},title:e,text_body:t,submit_text:n,cancel_text:s}),i)}c.propTypes={handleSubmit:PropTypes.func,handleClose:PropTypes.func,title:PropTypes.string,text_body:PropTypes.string,submit_text:PropTypes.string,cancel_text:PropTypes.string};(class extends React.Component{constructor(e){super(e),doBinding(this),this.state={show:!1}}componentDidMount(){this.setState({show:!0})}_closeHandler(){this.setState({show:!1}),this.props.handleClose()}render(){return React.createElement(o.Dialog,{isOpen:this.state.show,title:this.props.title,onClose:this._closeHandler,canEscapeKeyClose:!0},React.createElement("div",{className:o.Classes.DIALOG_BODY},React.createElement("p",null,this.props.text_body)),React.createElement("div",{className:o.Classes.DIALOG_FOOTER},React.createElement("div",{className:o.Classes.DIALOG_FOOTER_ACTIONS},React.createElement(o.Button,{onClick:this._closeHandler},"Okay"))))}}).propTypes={handleClose:PropTypes.func,title:PropTypes.string,text_body:PropTypes.string,close_text:PropTypes.string}},29:function(e,t,s){"use strict";s.r(t);var n=s(8),o=s(1),i=s(0);let a=blueprint;const r=["username","password","confirm_password"];class l extends React.Component{constructor(e){super(e),doBinding(this),this.state={};let t={};for(let e of r)t[e]="";this.state.fields=t;let s={};for(let e of r)s[e]=null;this.state.helper_text=s}componentDidMount(){}_onFieldChange(e,t){let s=Object.assign({},this.state.fields);s[e]=t,this.setState({fields:s})}_submit_duplicate_info(){let e=this.state.fields.password,t=this.state.fields.confirm_password;const s={};if(""==e||""==e){let e=Object.assign({},this.state.helper_text);return e.confirm_password="Passwords cannot be empty",void this.setState({helper_text:e})}if(e!=t){let e=Object.assign({},this.state.helper_text);return e.confirm_password="Passwords don't match",void this.setState({helper_text:e})}s.password=e;let n=Object.assign({},this.state.fields);n.old_username=window.old_username,Object(i.b)("attempt_duplicate",n,(function(e){e.success?Object(o.b)({message:"Account successfully duplicated",alert_type:"alert-success"}):(s.alert_type="alert-warning",Object(o.b)(s))}))}render(){let e=Object.keys(this.state.fields).map(e=>React.createElement(a.FormGroup,{key:e,inline:!0,style:{padding:10},label:e,helperText:this.state.helper_text[e]},React.createElement(a.InputGroup,{type:"text",onChange:t=>this._onFieldChange(e,t.target.value),style:{width:250},large:!0,fill:!1,placeholder:e,value:this.state.fields[e]})));return React.createElement(React.Fragment,null,React.createElement("div",{className:"d-flex flex-column",style:{textAlign:"center",marginLeft:50,marginTop:50,height:"100%"}},React.createElement("form",{onSubmit:e=>{e.preventDefault(),this._submit_duplicate_info()}},e,React.createElement("div",{className:"d-flex flex-row"},React.createElement(a.Button,{icon:"log-in",large:!0,text:"Submit",onClick:this._submit_duplicate_info})))))}}!function(){Object(n.b)("account");let e=document.querySelector("#root");ReactDOM.render(React.createElement(l,null),e)}()},5:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const n=React.createContext({readOnly:!1})},6:function(e,t,s){"use strict";s.d(t,"c",(function(){return y})),s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return l}));var n=s(5),o=s(0),i=blueprint,a=bpselect;let r={collection:"database",project:"projects",tile:"application",list:"list",code:"code"};class l extends React.Component{constructor(e){super(e),doBinding(this),this.state={activeItem:this.props.value}}shouldComponentUpdate(e,t){return!propsAreEqual(e,this.props)}_filterSuggestion(e,t){if(0==e.length||t.isgroup)return!0;return new RegExp(e.toLowerCase()).test(t.text.toLowerCase())}_handleActiveItemChange(e){}_getActiveItem(e){for(let t of this.props.options)if(_.isEqual(t,e))return t;return null}render(){return React.createElement(a.Select,{activeItem:this._getActiveItem(this.props.value),onActiveItemChange:this._handleActiveItemChange,itemRenderer:p,itemPredicate:this._filterSuggestion,items:this.props.options,onItemSelect:this.props.onChange,popoverProps:{minimal:!0,boundary:"window",modifiers:{flip:!1,preventOverflow:!0},position:i.PopoverPosition.BOTTOM_LEFT}},React.createElement(i.Button,{text:this.props.value.text,className:"button-in-select",icon:this.props.buttonIcon}))}}l.propTypes={options:PropTypes.array,onChange:PropTypes.func,value:PropTypes.object,buttonIcon:PropTypes.string},l.defaultProps={buttonIcon:null};class c extends React.Component{constructor(e){super(e),doBinding(this)}shouldComponentUpdate(e,t){return!propsAreEqual(e,this.props)}render(){return this.props.item.isgroup?React.createElement(i.MenuDivider,{className:"tile-form-menu-item",title:this.props.item.text}):React.createElement(i.MenuItem,{className:"tile-form-menu-item",text:this.props.item.text,key:this.props.item,onClick:this.props.handleClick,active:this.props.modifiers.active,shouldDismissPopover:!0})}}function p(e,{modifiers:t,handleClick:s}){return React.createElement(c,{item:e,modifiers:t,handleClick:s})}c.propTypes={item:PropTypes.object,modifiers:PropTypes.object,handleClick:PropTypes.func};class u extends React.Component{constructor(e){super(e),doBinding(this),this.state={activeItem:this.props.value}}shouldComponentUpdate(e,t){return!propsAreEqual(e,this.props)}_filterSuggestion(e,t){if(0==e.length)return!0;return new RegExp(e.toLowerCase()).test(t.toLowerCase())}_handleActiveItemChange(e){this.setState({activeItem:e})}render(){return React.createElement(a.Select,{className:"tile-form-menu-item",activeItem:this.state.activeItem,onActiveItemChange:this._handleActiveItemChange,itemRenderer:h,itemPredicate:this._filterSuggestion,items:_.cloneDeep(this.props.options),onItemSelect:this.props.onChange,popoverProps:{minimal:!0,boundary:"window",modifiers:{flip:!1,preventOverflow:!0},position:i.PopoverPosition.BOTTOM_LEFT}},React.createElement(i.Button,{className:"button-in-select",text:this.props.value,icon:this.props.buttonIcon}))}}u.propTypes={options:PropTypes.array,onChange:PropTypes.func,value:PropTypes.string,buttonIcon:PropTypes.string},u.defaultProps={buttonIcon:null};class d extends React.Component{constructor(e){super(e),doBinding(this)}shouldComponentUpdate(e,t){return!propsAreEqual(e,this.props)}render(){return React.createElement(i.MenuItem,{className:"tile-form-menu-item",text:this.props.item,key:this.props.item,active:this.props.modifiers.active,onClick:this.props.handleClick,shouldDismissPopover:!0})}}function h(e,{modifiers:t,handleClick:s}){return React.createElement(d,{item:e,modifiers:t,handleClick:s})}d.propTypes={item:PropTypes.string,modifiers:PropTypes.object,handleClick:PropTypes.func};const m=(e,t,s)=>{return React.createElement(i.MenuItem,{icon:"add",key:"create_item",text:`Create "${e}"`,active:t,onClick:s,shouldDismissPopover:!1})};class f extends React.Component{constructor(e){super(e),doBinding(this),this.state={query:"",suggestions:[]}}componentDidMount(){let e=this,t={res_type:this.props.res_type,is_repository:!1};Object(o.c)("get_tag_list",t).then((function(t){let s=t.tag_list;e.setState({suggestions:s})}))}renderTag(e){return e}_handleDelete(e,t){let s=[...this.props.tags];s.splice(t,1),this.props.handleChange(s)}_handleAddition(e){let t=[...this.props.tags];t.push(e),this.props.handleChange(t)}_filterSuggestion(e,t){if(0==e.length)return!1;return new RegExp("^"+e).test(t)}_createItemFromQuery(e){return e}render(){return this.context.readOnly?React.createElement(i.TagInput,{values:this.props.tags,disabled:!0}):React.createElement(a.MultiSelect,{allowCreate:!0,openOnKeyDown:!0,createNewItemFromQuery:this._createItemFromQuery,createNewItemRenderer:m,resetOnSelect:!0,itemRenderer:h,selectedItems:this.props.tags,allowNew:!0,items:this.state.suggestions,itemPredicate:this._filterSuggestion,tagRenderer:this.renderTag,tagInputProps:{onRemove:this._handleDelete},onItemSelect:this._handleAddition})}}f.proptypes={tags:PropTypes.array,handleChange:PropTypes.func,res_type:PropTypes.string},f.contextType=n.a;class g extends React.Component{constructor(e){super(e),this.state={md_height:500,show_markdown:!this.hasOnlyWhitespace&&this.props.show_markdown_initial},doBinding(this),this.md_ref=React.createRef(),this.converter=new showdown.Converter,this.awaiting_focus=!1}getNotesField(){return $(this.notes_ref)}get hasOnlyWhitespace(){return!this.props.notes.trim().length}getMarkdownField(){return $(this.md_ref.current)}componentDidUpdate(e,t,s){this.awaiting_focus?(this.focusNotes(),this.awaiting_focus=!1):this.state.show_markdown||this.notes_ref==document.activeElement||this._showMarkdown()}focusNotes(){this.getNotesField().focus()}_hideMarkdown(){this.context.readOnly||(this.awaiting_focus=!0,this.setState({show_markdown:!1}))}_handleMyBlur(){this._showMarkdown(),null!=this.props.handleBlur&&this.props.handleBlur()}_showMarkdown(){this.hasOnlyWhitespace||this.setState({show_markdown:!0})}_notesRefHandler(e){this.notes_ref=e}render(){let e=!this.hasOnlyWhitespace&&this.state.show_markdown,t={display:e?"none":"block",fontSize:13},s={display:e?"block":"none",maxHeight:this.state.md_height,fontSize:13};var n;e&&(n=this.converter.makeHtml(this.props.notes));let o={__html:n};return React.createElement(React.Fragment,null,React.createElement(i.TextArea,{rows:"10",cols:"50",inputRef:this._notesRefHandler,growVertically:!1,onBlur:this._handleMyBlur,onChange:this.props.handleChange,value:this.props.notes,disabled:this.context.readOnly,style:t}),React.createElement("div",{ref:this.md_ref,style:s,onClick:this._hideMarkdown,className:"notes-field-markdown-output",dangerouslySetInnerHTML:o}))}}g.contextType=n.a,g.propTypes={notes:PropTypes.string,handleChange:PropTypes.func,show_markdown_initial:PropTypes.bool,handleBlur:PropTypes.func},g.defaultProps={handleBlur:null};class y extends React.Component{constructor(e){super(e),doBinding(this)}_handleNotesChange(e){this.props.handleChange({notes:e.target.value})}_handleTagsChange(e){this.props.handleChange({tags:e})}_handleTagsChangeNative(e){this.props.handleChange({tags:e})}_handleCategoryChange(e){this.props.handleChange({category:e.target.value})}render(){let e;if(null!=this.props.additional_metadata){e=[];for(let t in this.props.additional_metadata){let s=this.props.additional_metadata[t];if(Array.isArray(s))s=s.join(", ");else if("collection_name"==t){let e=/\.\w*$/.exec(s);null!=e&&(s=e[0].slice(1))}e.push(React.createElement(i.FormGroup,{label:t+": ",key:t,inline:!0},React.createElement(i.InputGroup,{disabled:!0,style:{color:"#394B59"},value:s,fill:!0})))}}return React.createElement(i.Card,{elevation:this.props.elevation,className:"combined-metadata",style:this.props.outer_style},null!=this.props.name&&React.createElement("h6",{style:{color:"#106ba3"}},React.createElement(i.Icon,{icon:r[this.props.res_type],style:{marginRight:4}}),this.props.name),React.createElement(i.FormGroup,{label:"Tags"},React.createElement(f,{tags:this.props.tags,handleChange:this._handleTagsChange,res_type:this.props.res_type})),null!=this.props.category&&React.createElement(i.FormGroup,{label:"Category"},React.createElement(i.InputGroup,{onChange:this._handleCategoryChange,value:this.props.category})),React.createElement(i.FormGroup,{label:"Notes"},React.createElement(g,{notes:this.props.notes,handleChange:this._handleNotesChange,show_markdown_initial:!0,handleBlur:this.props.handleNotesBlur})),React.createElement(i.FormGroup,{label:"Created ",inline:!0},React.createElement(i.InputGroup,{disabled:!0,style:{color:"#394B59"},value:this.props.created})),null!=this.props.updated&&React.createElement(i.FormGroup,{label:"Updated: ",inline:!0},React.createElement(i.InputGroup,{disabled:!0,style:{color:"#394B59"},value:this.props.updated})),null!=this.props.additional_metadata&&e)}}y.propTypes={outer_style:PropTypes.object,elevation:PropTypes.number,res_type:PropTypes.string,name:PropTypes.string,created:PropTypes.string,updated:PropTypes.string,tags:PropTypes.array,notes:PropTypes.string,category:PropTypes.string,handleChange:PropTypes.func,handleNotesBlur:PropTypes.func,additional_metadata:PropTypes.object},y.defaultProps={outer_style:{marginLeft:20,overflow:"auto",padding:15,backgroundColor:"#f5f8fa"},elevation:0,handleNotesBlur:null,category:null,name:null,updated:null,additional_metadata:null}},7:function(e,t,s){"use strict";s.d(t,"c",(function(){return l})),s.d(t,"a",(function(){return c})),s.d(t,"d",(function(){return p})),s.d(t,"b",(function(){return r}));var n=s(2),o=s(0),i=s(1);let a=blueprint;class r extends React.Component{constructor(e){super(e),doBinding(this)}_filter_on_match_list(e){return!this.props.hidden_items.includes(e)}render(){let e=Object.keys(this.props.option_dict).filter(this._filter_on_match_list).map((e,t)=>{let s=this.props.icon_dict.hasOwnProperty(e)?this.props.icon_dict[e]:null;return React.createElement(a.MenuItem,{disabled:this.props.disable_all||this.props.disabled_items.includes(e),onClick:this.props.option_dict[e],icon:s,key:e,text:e})}),t=React.createElement(a.Menu,null,e);if(this.props.alt_button){let e=this.props.alt_button;return React.createElement(a.Popover,{minimal:!0,content:t,position:a.PopoverPosition.BOTTOM_LEFT},React.createElement(e,null))}return React.createElement(a.Popover,{minimal:!0,content:t,position:a.PopoverPosition.BOTTOM_LEFT},React.createElement(a.Button,{text:this.props.menu_name,small:!0,minimal:!0}))}}r.propTypes={menu_name:PropTypes.string,option_dict:PropTypes.object,icon_dict:PropTypes.object,disabled_items:PropTypes.array,disable_all:PropTypes.bool,hidden_items:PropTypes.array,alt_button:PropTypes.func},r.defaultProps={disabled_items:[],disable_all:!1,hidden_items:[],icon_dict:{},alt_button:null};class l extends React.Component{constructor(e){super(e),doBinding(this)}_saveProjectAs(){this.props.startSpinner();let e=this;function t(){e.props.stopSpinner()}function s(t){const s={project_name:t,main_id:window.main_id,doc_type:"table",purgetiles:!0};function n(s){s.success?(window.is_project=!0,window._project_name=t,window.is_jupyter=!1,document.title=t,e.props.clearStatusMessage(),s.alert_type="alert-success",s.timeout=2e3,Object(o.f)("host","refresh_project_selector_list",{user_id:window.user_id}),e.props.updateLastSave(),e.props.stopSpinner(),Object(i.b)(s)):(e.props.clearStatusMessage(),s.message=s.message,s["alert-type"]="alert-warning",e.props.stopSpinner(),Object(i.b)(s))}s.interface_state=e.props.interface_state,window.is_notebook?Object(o.f)(window.main_id,"save_new_notebook_project",s,n):(s.purgetiles=!0,Object(o.f)(window.main_id,"save_new_project",s,n))}Object(o.f)("host","get_project_names",{user_id:window.user_id},(function(e){Object(n.b)("Save Project As","New Project Name",s,"NewProject",e.project_names,null,t)}))}_saveProject(){let e=this;const t={main_id:window.main_id,project_name:window._project_name};t.interface_state=this.props.interface_state,this.props.startSpinner(),Object(o.f)(window.main_id,"update_project",t,(function(t){e.props.startSpinner(),t.success?(t.alert_type="alert-success",t.timeout=2e3,e.props.updateLastSave()):t.alert_type="alert-warning";e.props.clearStatusMessage(),e.props.stopSpinner(),Object(i.b)(t)}))}_exportAsJupyter(){this.props.startSpinner();let e=this;function t(t){var s=[];for(let t of e.props.console_items){let e={};e.source=t.console_text,e.cell_type="code"==t.type?"code":"markdown","code"==t.type&&(e.outputs=[]),s.push(e)}const n={project_name:t,main_id:window.main_id,cell_list:s};Object(o.f)(window.main_id,"export_to_jupyter_notebook",n,(function(t){e.props.clearStatusMessage(),t.success?(t.alert_type="alert-success",t.timeout=2e3):t["alert-type"]="alert-warning";e.props.stopSpinner(),Object(i.b)(t)}))}Object(o.f)("host","get_project_names",{user_id:user_id},(function(e){Object(n.b)("Export Notebook in Jupyter Format","New Project Name",t,"NewJupyter",e.project_names,void 0)}))}_exportDataTable(){Object(n.b)("Export Data","New Collection Name",(function(e){const t={export_name:e,main_id:window.main_id,user_id:window.user_id};$.ajax({url:$SCRIPT_ROOT+"/export_data",contentType:"application/json",type:"POST",async:!0,data:JSON.stringify(t),dataType:"json"})}))}_consoleToNotebook(){const e={main_id:window.main_id,console_items:this.props.console_items,user_id:window.user_id};Object(o.f)(window.main_id,"console_to_notebook",e)}get option_dict(){return{"Save As...":this._saveProjectAs,Save:this._saveProject,"Export as Jupyter Notebook":this._exportAsJupyter,"Open Console as Notebook":this._consoleToNotebook,"Export Table as Collection":this._exportDataTable,"Change collection":this.props.changeCollection}}get icon_dict(){return{"Save As...":"floppy-disk",Save:"saved","Export as Jupyter Notebook":"export","Open Console as Notebook":"console","Export Table as Collection":"export","Change collection":"exchange"}}render(){return React.createElement(r,{menu_name:"Project",option_dict:this.option_dict,icon_dict:this.icon_dict,disabled_items:this.props.disabled_items,disable_all:!1,hidden_items:this.props.hidden_items})}}l.propTypes={console_items:PropTypes.array,interface_state:PropTypes.object,updateLastSave:PropTypes.func,changeCollection:PropTypes.func,disabled_items:PropTypes.array,hidden_items:PropTypes.array};class c extends React.Component{constructor(e){super(e),doBinding(this)}_shift_column_left(){let e=this.props.filtered_column_names.indexOf(this.props.selected_column);if(0==e)return;let t=this.props.filtered_column_names[e-1];this.props.moveColumn(this.props.selected_column,t)}_shift_column_right(){let e=this.props.table_spec.column_names.indexOf(this.props.selected_column);if(e==this.props.table_spec.column_names.length-1)return;let t=this.props.table_spec.column_names[e+2];this.props.moveColumn(this.props.selected_column,t)}get option_dict(){return{"Shift Left":this._shift_column_left,"Shift Right":this._shift_column_right,Hide:this.props.hideColumn,"Hide in All Docs":this.props.hideInAll,"Unhide All":this.props.unhideAllColumns,"Add Column":()=>this.props.addColumn(!1),"Add Column In All Docs":()=>this.props.addColumn(!0)}}get icon_dict(){return{"Shift Left":"direction-left","Shift Right":"direction-right",Hide:"eye-off","Hide in All Docs":"eye-off","Unhide All":"eye-on","Add Column":"add-column-right","Add Column In All Docs":"add-column-right"}}render(){return React.createElement(r,{menu_name:"Column",option_dict:this.option_dict,icon_dict:this.icon_dict,disabled_items:this.props.disabled_items,hidden_items:[]})}}c.propTypes={moveColumn:PropTypes.func,table_spec:PropTypes.object,filtered_column_names:PropTypes.array,selected_column:PropTypes.string,hideColumn:PropTypes.func,hideInAll:PropTypes.func,unhideAllColumns:PropTypes.func,addColumn:PropTypes.func,disabled_items:PropTypes.array};class p extends React.Component{constructor(e){super(e),doBinding(this)}_shift_column_left(){let e=this.props.table_spec.column_names.indexOf(this.props.selected_column);if(0==e)return;let t=this.props.table_spec.column_names[e-1];this._moveColumn(this.props.selected_column,t)}_shift_column_right(){let e=this.props.table_spec.column_names.indexOf(this.props.selected_column);if(e==this.props.table_spec.column_names.length-1)return;let t=this.props.table_spec.column_names[e+2];this._moveColumn(this.props.selected_column,t)}get option_dict(){let e={};return e[this.props.table_is_shrunk?"Maximize Table":"Minimize Table"]=this.props.toggleTableShrink,e["Show Error Drawer"]=this.props.openErrorDrawer,e}get icon_dict(){let e={};return e[this.props.table_is_shrunk?"Maximize Table":"Minimize Table"]=this.props.table_is_shrunk?"maximize":"minimize",e["Show Error Drawer"]="panel-stats",e}render(){return React.createElement(r,{menu_name:"View",option_dict:this.option_dict,icon_dict:this.icon_dict,disabled_items:[],disable_all:this.props.disable_all,hidden_items:[]})}}p.propTypes={table_is_shrunk:PropTypes.bool,toggleTableShrink:PropTypes.func,openErrorDrawer:PropTypes.func}},8:function(e,t,s){"use strict";s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return p}));var n=s(7),o=blueprint;let i=$SCRIPT_ROOT+"/library",a=$SCRIPT_ROOT+"/repository",r=$SCRIPT_ROOT+"/account_info",l=$SCRIPT_ROOT+"/login";const c=10;class p extends React.Component{constructor(e){super(e),doBinding(this),this.lg_ref=React.createRef(),this.state={usable_width:window.innerWidth-2*c,old_left_width:0},this.overflow_items=[],this.update_state_vars=["usable_width","old_left_width"],this.update_props=["is_authenticated","user_name","menus","selected","show_api_links"]}shouldComponentUpdate(e,t){for(let t of this.update_props)if(e[t]!=this.props[t])return!0;for(let e of this.update_state_vars)if(t[e]!=this.state[e])return!0;return!1}componentDidMount(){window.addEventListener("resize",this._update_window_dimensions),this._update_window_dimensions(),this.setState({old_left_width:this._getLeftWidth()})}componentDidUpdate(){let e=this._getLeftWidth();e!=this.state.old_left_width&&this.setState({old_left_width:e})}_update_window_dimensions(){this.setState({usable_width:window.innerWidth-2*c})}handle_signout(){doSignOut(window.page_id)}getIntent(e){return this.props.selected==e?"primary":null}renderNav(e){return React.createElement(o.Button,{icon:e.icon,key:e.text,minimal:!0,text:e.text,intent:e.intent,onClick:e.onClick})}_getLeftWidth(){return this.lg_ref&&this.lg_ref.current?this.lg_ref.current.getBoundingClientRect().width:null}_getRightWidth(){let e=this._getLeftWidth();return e?this.state.usable_width-e-35:.25*this.state.usable_width-35}_authenticatedItems(){return[{icon:"home",text:"Library",intent:this.getIntent("library"),onClick:()=>{window.open(i)}},{icon:"database",text:"Repository",intent:this.getIntent("repository"),onClick:()=>{window.open(a)}},{icon:"settings",text:this.props.user_name,intent:this.getIntent("account"),onClick:()=>{window.open(r)}},{icon:"log-out",text:"Logout",intent:this.getIntent("logout"),onClick:this.handle_signout}]}_notAuthenticatedItems(){return[{icon:"log-in",text:"Login",intent:this.getIntent("login"),onClick:()=>{window.open(l)}}]}_onOverflow(e){this.overflow_items=e}_overflowRenderer(){let e={},t={};for(let s of this.overflow_items)e[s.text]=s.onClick,t[s.text]=s.icon;return React.createElement(n.b,{alt_button:()=>React.createElement("span",{className:"bp3-breadcrumbs-collapsed",style:{marginTop:5}}),option_dict:e,icon_dict:t})}render(){this.props.menus;let e=[];this.props.show_api_links&&(e=[{icon:"code-block",text:"Api",intent:null,onClick:()=>{window.open("https://tactic.readthedocs.io/en/latest/Tile-Commands.html")}},{icon:"code-block",text:"ObjApi",intent:null,onClick:()=>{window.open("https://tactic.readthedocs.io/en/latest/Object-Oriented-API.html")}}]),e.push({icon:"manual",text:"Docs",intent:null,onClick:()=>{window.open("http://tactic.readthedocs.io/en/latest/index.html")}}),e=this.props.is_authenticated?e.concat(this._authenticatedItems()):e.concat(this._notAuthenticatedItems());let t={width:this._getRightWidth(),justifyContent:"flex-end"};return React.createElement(o.Navbar,{style:{paddingLeft:10}},React.createElement("div",{className:"bp3-navbar-group bp3-align-left",ref:this.lg_ref},React.createElement(o.Navbar.Heading,{className:"d-flex align-items-center"},React.createElement("img",{className:"mr-2",src:window.tactic_img_url,alt:"",width:"32 ",height:"32"}),"Tactic"),null!=this.props.menus&&React.createElement(React.Fragment,null,this.props.menus)),React.createElement(o.Navbar.Group,{align:o.Alignment.RIGHT,style:t},React.createElement(o.NavbarDivider,null),React.createElement(o.OverflowList,{items:e,overflowRenderer:this._overflowRenderer,visibleItemRenderer:this.renderNav,onOverflow:this._onOverflow})))}}function u(e=null,t=!1){let s=document.querySelector("#navbar-root");ReactDOM.render(React.createElement(p,{is_authenticated:window.is_authenticated,selected:e,show_api_links:t,user_name:window.username}),s)}p.propTypes={is_authenticated:PropTypes.bool,user_name:PropTypes.string,menus:PropTypes.object,selected:PropTypes.string,show_api_links:PropTypes.bool},p.defaultProps={menus:null,selected:null,show_api_links:!1}}});